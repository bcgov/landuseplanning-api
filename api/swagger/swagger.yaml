swagger: "2.0"
info:
  version: "1.0.6"
  title: EAGLE API
host: localhost:3000
basePath: /api
tags:
- name: "login"
  description: "Everything about Logging in"
  externalDocs:
    description: "Find out more"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "project"
  description: "Operations about projects"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "recentActivity"
  description: "Operations about activities"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "document"
  description: "Operations about documents"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "organization"
  description: "Operations about organizations"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "user"
  description: "Operations about users"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "search"
  description: "Operations about searching"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
- name: "topic"
  description: "Operations about topic"
  externalDocs:
    description: "Find out more about our API"
    url: "http://github.com/bcgov/eagle-api.git"
schemes:
  - http
securityDefinitions:
  Bearer:
    type: apiKey
    name: Authorization
    in: header
    description: |
     For accessing the API a valid JWT token must be passed in all the queries in
     the 'Authorization' header.


     A valid JWT token is generated by the API and retourned as answer of a call
     to the route /login giving a valid user & password.


     The following syntax must be used in the 'Authorization' header :

         Bearer xxxxxx.yyyyyyy.zzzzzz

consumes:
  - application/json
produces:
  - application/json

definitions:
  Authentication:
    type: object
    properties:
      username:
        type: string
        example: "username"
      password:
        type: string
        example: "password"

### Project Definitions
  ProjId:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
  ProjObject:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
      tags:
        type: string
        example: "[['public']]"
        ## TODO: Add more fields here.
  Project:
    type: string
    description: "Optional fields to return."
    example: name|type
    #TODO: Fix enums
    enum: &projectFields
      - cEAAInvolvement
      - cELead
      - cELeadEmail
      - cELeadPhone
      - centroid
      - currentPhase
      - currentPhaseCode
      - currentPhaseName
      - description
      - eacDecision
      - location
      - name
      - projectLead
      - projectLeadEmail
      - projectLeadPhone
      - proponent
      - region
      - responsibleEPD
      - responsibleEPDEmail
      - responsibleEPDPhone
      - type
      - read
      - build
      - nature
  TopicSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +name,-name
    enum: &projectSortByFields
      - +name
      - -name
      - +type
      - -type
      - +region
      - -region
      - +currentPhaseName
      - -currentPhaseName
      - +eacDecision
      - -eacDecision

### Project Definitions
  RecentActivityId:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
  RecentActivityObject:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
      tags:
        type: string
        example: "[['public']]"
        ## TODO: Add more fields here.
  RecentActivity:
    type: string
    description: "Optional fields to return."
    example: name|type
    #TODO: Fix enums
    enum: &activityFields
      - type
      - tags
      - geometry
      - geometryName
      - properties
      - isDeleted
      - applicationID

### Document Definitions
  DocId:
    type: object
    properties:
      displayName:
        type: string
        example: "A cool document"
  DocObject:
    type: object
    properties:
      displayName:
        type: string
        example: "A cool document"
        ## TODO: Add more fields here.
  DocumentFields:
    type: string
    description: "Optional fields to return."
    example: name|type
    #TODO: Fix enums
    enum: &documentFields
      - displayName
      - documentFileName
      - internalOriginalName
      - internalURL
      - internalMime
      - internalSize

### Comment Definitions
  CommentId:
    type: object
    properties:
      comment:
        type: string
        example: "A cool user"
  CommentObject:
    type: object
    properties:
      commentAuthor:
        type: object
        example: "A cool comment"
        ## TODO: Add more fields here.
        properties:
          contactName:
            type: string
            example: "Bob Smith"
          location:
            type: string
            example: "Victoria"
  CommentFields:
    type: string
    description: "Optional fields to return."
    example: name|commentAuthor
    #TODO: Fix enums
    enum: &commentFields
      - 'author'
      - 'comment'
      - 'commentId'
      - 'dateAdded'
      - 'datePosted'
      - 'dateUpdated'
      - 'eaoNotes'
      - 'eaoStatus'
      - 'isAnonymous'
      - 'location'
      - 'period'
      - 'proponentNotes'
      - 'proponentStatus'
      - 'publishedNotes'
      - 'rejectedNotes'
      - 'rejectedReason'
      - 'valuedComponents'
      - 'read'
      - 'write'
      - 'delete'
  CommentSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +commentStatus,-dateAdded
    enum: &commentSortByFields
      - +author
      - -author
      - +dateAdded
      - -dateAdded

### Comment Period Definitions
  CommentStatus:
    type: object
    properties:
      status:
        type: string
        description: "Can be the following commands: publish, defer, reject, reset."
        example: "publish"
  CommentPeriodId:
    type: object
    properties:
      commentperiod:
        type: string
        example: "A comment period Id"
  CommentPeriodObject:
    type: object
    properties:
      project:
        type: string
        example: ""
      ## TODO: Add more fields here.
  CommentPeriodFields:
    type: string
    description: "Optional fields to return."
    example: startDate|endDate|description
    #TODO: Fix enums
    enum: &commentPeriodFields
      - __v
      - _schemaName
      - addedBy
      - additionalText
      - ceaaAdditionalText
      - ceaaInformationLabel
      - ceaaRelatedDocuments
      - classificationRoles
      - classifiedPercent
      - commenterRoles
      - dateAdded
      - dateCompleted
      - dateCompletedEst
      - dateStarted
      - dateStartedEst
      - dateUpdated
      - downloadRoles
      - documents
      - informationLabel
      - instructions
      - isClassified
      - isPublished
      - isResolved
      - isVetted
      - milestone
      - openHouses
      - periodType
      - phase
      - phaseName
      - project
      - publishedPercent
      - rangeOption
      - rangeType
      - relatedDocuments
      - resolvedPercent
      - updatedBy
      - userCan
      - vettedPercent
      - vettingRoles
      - read
      - write
      - delete
  CommentPeriodSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +commentStatus,-dateAdded
    enum: &commentPeriodSortByFields
      - +author
      - -author
      - +dateStarted
      - -dateStarted
      - +dateCompleted
      - -dateCompleted
### Search Definitions
  SearchObject:
    type: object
    properties:
      keywords:
        type: string
        example: "Project Name"
  SearchSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +score,-score
    enum: &searchSortByFields
      - +headline
      - -headline
      - +score
      - -score
      - +displayName
      - -displayName
      - +datePosted
      - -datePosted
      - +documentType
      - -documentType
      - +documentFileSize
      - -documentFileSize

  AuditObject:
    type: object
    properties:
      keywords:
        type: string
        example: "Project Name"
  AuditSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +score,-score
    enum: &auditSortByFields
      - +score
      - -score
      - +displayName
      - -displayName
      - +datePosted
      - -datePosted
      - +documentType
      - -documentType
      - +documentFileSize
      - -documentFileSize
  AuditFields:
    type: string
    description: "Optional fields to return."
    example: startDate|endDate|description
    #TODO: Fix enums
    enum: &auditFields
      - _schemaName
      - objId
      - action
      - meta
      - _objectSchema
      - addedBy
      - updatedBy
      - deletedBy
      - performedBy
      - timestamp

### Organization Definitions
  OrgId:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
  OrgObject:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
      tags:
        type: string
        example: "[['public']]"
        ## TODO: Add more fields here.
  Organization:
    type: string
    description: "Optional fields to return."
    example: name
    #TODO: Fix enums
    enum: &organizationFields
      - name

### Topic Definitions
  TopicId:
    type: object
    properties:
      comment:
        type: string
        example: "A cool user"
  TopicObject:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
  TopicFields:
    type: string
    description: "Optional fields to return."
    example: name|description
    #TODO: Fix enums
    enum: &topicFields
      - 'description'
      - 'name'
      - 'pillar'
      - 'parent'
      - 'read'
  TopicSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +name,-name
    enum: &topicSortByFields
      - +name
      - -name
      - +description
      - -description
      - +type
      - -type
      - +pillar
      - -pillar

### User Definitions
  UserId:
    type: object
    properties:
      displayName:
        type: string
        example: "A cool user"
  UserObject:
    type: object
    properties:
      displayName:
        type: string
        example: "A cool user"

        ## TODO: Add more fields here.
  UserFields:
    type: string
    description: "Optional fields to return."
    example: displayName|roles
    #TODO: Fix enums
    enum: &userFields
      - displayName
      - firstName
      - lastName
      - username
      - roles

### Vc Definitions
  VcId:
    type: object
    properties:
      comment:
        type: string
        example: "A cool user"
  VcObject:
    type: object
    properties:
      _id:
        type: string
        example: "54759eb3c090d83494e2d804"
  VcFields:
    type: string
    description: "Optional fields to return."
    example: name|description
    enum: &vcFields
      - 'code'
      - 'description'
      - 'name'
      - 'parent'
      - 'pillar'
      - 'project'
      - 'stage'
      - 'title'
      - 'type'
      - 'read'
      - 'write'
      - 'delete'
  VcSortByFields:
    type: string
    description: "Optional fields to sort by (prefixed with + or - for order)"
    example: +Type,-Type
    enum: &vcSortByFields
      - +Type
      - -Type

### Resource Definitions
  Coordinates:
    type: object
    properties:
      msg:
        type: string
  Token:
    type: object
    properties:
      token:
        type: string
  Error:
    type: object
    properties:
      message:
        type: string

### Path Definitions
paths:
  /login/token:
    x-swagger-router-controller: login
    options:
      tags:
        - login
      operationId: loginOptions
      description: "Options for Login"
      summary: "Pre-flight request"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/Token"
    post:
      tags:
        - login
      operationId: loginPost
      description: "Get a JWT in order to access certain protected routes."
      summary: "Get a Bearer token."
      parameters:
        - name: authentication
          in: body
          required: true
          schema:
            $ref: "#/definitions/Authentication"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/Token"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### Project Routes
  /project:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - project
      summary: "Create a new project"
      operationId: protectedPost
      description: "Create a new project object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
        - name: project
          in: body
          required: true
          schema:
            $ref: "#/definitions/ProjId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - project
      summary: "Retrieve META associated with an project."
      operationId: protectedHead
      description: "Get META from the request, without returning the payload in question."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "Applications that are deleted or not"
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: tantalisId
          type: number
          required: false
          description: "Get a Project that contain this specific disposition."
        - in: query
          name: cl_file
          type: number
          required: false
          description: "Get a Project that relates to this crown lands file."
        - in: query
          collectionFormat: multi
          name: purpose
          type: string
          required: false
          description: "Get a Project that relates to this purpose."
        - in: query
          collectionFormat: multi
          name: subpurpose
          type: string
          required: false
          description: "Get a Project that relates to this subpurpose."
        - in: query
          collectionFormat: multi
          name: status
          type: string
          required: false
          description: "Get a Project that relates to this status."
        - in: query
          name: type
          type: string
          required: false
          description: "Get a Project that relates to this type."
        - in: query
          name: subtype
          type: string
          required: false
          description: "Get a Project that relates to this subtype."
        - in: query
          name: agency
          type: string
          required: false
          description: "Get a Project that relates to this subagencytype."
        - in: query
          name: businessUnit
          type: string
          required: false
          description: "Get a Project that relates to this businessUnit."
        - in: query
          name: client
          type: string
          required: false
          description: "Get a Project that relates to this client."
        - in: query
          name: tenureStage
          type: string
          required: false
          description: "Get a Project that relates to this tenureStage."
        - in: query
          name: areaHectares
          collectionFormat: multi
          type: string
          required: false
          description: "Get a Project that relates to size of areaHectares."
        - in: query
          name: centroid
          required: false
          description: "Query projects that have their centroid fall within the supplied coordinates."
          type: string
        - in: query
          name: publishDate
          collectionFormat: multi
          required: false
          description: "Query project publish dates.  Multiple parameter instances and supported."
          type: string
          format: date-time
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get a list of projects"
      operationId: protectedGet
      description: "Authenticated access to retreiving projects."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "Applications that are deleted or not"
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: tantalisId
          type: number
          required: false
          description: "Get a Project that contain this specific disposition."
        - in: query
          name: cl_file
          type: number
          required: false
          description: "Get a Project that relates to this crown lands file."
        - in: query
          collectionFormat: multi
          name: purpose
          type: string
          required: false
          description: "Get a Project that relates to this purpose."
        - in: query
          collectionFormat: multi
          name: subpurpose
          type: string
          required: false
          description: "Get a Project that relates to this subpurpose."
        - in: query
          collectionFormat: multi
          name: status
          type: string
          required: false
          description: "Get a Project that relates to this status."
        - in: query
          name: type
          type: string
          required: false
          description: "Get a Project that relates to this type."
        - in: query
          name: subtype
          type: string
          required: false
          description: "Get a Project that relates to this subtype."
        - in: query
          name: agency
          type: string
          required: false
          description: "Get a Project that relates to this subagencytype."
        - in: query
          name: businessUnit
          type: string
          required: false
          description: "Get a Project that relates to this businessUnit."
        - in: query
          name: client
          type: string
          required: false
          description: "Get a Project that relates to this client."
        - in: query
          name: tenureStage
          type: string
          required: false
          description: "Get a Project that relates to this tenureStage."
        - in: query
          name: areaHectares
          collectionFormat: multi
          type: string
          required: false
          description: "Get a Project that relates to size of areaHectares."
        - in: query
          name: centroid
          required: false
          description: "Query projects that have their centroid fall within the supplied coordinates."
          type: string
        - in: query
          name: publishDate
          collectionFormat: multi
          required: false
          description: "Query project publish dates.  Multiple parameter instances and supported."
          type: string
          format: date-time
        - in: query
          name: sortBy
          description: "Projects to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *projectSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /project/{projId}:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project GET Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - project
      summary: "Retrieve META associated with an project."
      operationId: protectedHead
      description: "Get META from the request, without returning the payload in question."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "Applications that are deleted or not"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get a project"
      operationId: protectedGet
      description: "Authenticated access to retreiving projects."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: cpStart
          type: string
          format: date-time
          required: false
          description: "Comment Period Start Date that Projects must compare to"
        - in: query
          name: cpEnd
          type: string
          format: date-time
          required: false
          description: "Comment Period End Date that Projects must compare to"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - project
      summary: "Update an project"
      operationId: protectedPut
      description: "Update an project object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: projId
          in: path
          description: "ID of project to update"
          required: true
          type: string
        - name: ProjObject
          in: body
          required: true
          schema:
            $ref: "#/definitions/ProjObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - project
      summary: "Delete an project"
      operationId: protectedDelete
      description: "Delete an project object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: projId
          in: path
          description: "ID of project to delete"
          required: true
          type: string
        - name: ProjObject
          in: body
          required: true
          schema:
            $ref: "#/definitions/ProjObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /project/{projId}/publish:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - project
      summary: "Publish a project"
      operationId: protectedPublish
      description: "Adds the singular instance of the 'public' role to a project."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        # TODO: Define publish roles.
      parameters:
        - name: projId
          in: path
          description: "ID of project to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /project/{projId}/unpublish:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - project
      summary: "UnPublish a project"
      operationId: protectedUnPublish
      description: "Removes the singular instance of the 'public' role to a project."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        # TODO: Define publish roles.
      parameters:
        - name: projId
          in: path
          description: "ID of project to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/project/{projId}/pin:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get pins on a project"
      operationId: publicPinGet
      description: "Authenticated access to retreiving pins on a project."
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - in: query
          name: sortBy
          description: "Fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *searchSortByFields
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /project/{projId}/pin:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get pins on a project"
      operationId: protectedPinGet
      description: "Authenticated access to retreiving pins on a project."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - in: query
          name: sortBy
          description: "Fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *searchSortByFields
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - project
      summary: "Add Pins to a project"
      operationId: protectedAddPins
      description: "Adds pins to a project."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - staff
        - sysadmin
      parameters:
        - name: projId
          in: path
          description: "ID of project to update"
          required: true
          type: string
        - name: pins
          in: body
          required: true
          schema:
            $ref: "#/definitions/ProjObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /project/{projId}/pin/{pinId}:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - name: pinId
          in: path
          description: "ID of pin to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - project
      summary: "Delete a PIN"
      operationId: protectedPinDelete
      description: "Delete specific PINS."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
          - name: projId
            in: path
            type: string
            required: true
            description: "PINS corresponding to a project."
          - name: pinId
            in: path
            type: string
            required: true
            description: "Delete PIN."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/project:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - project
      summary: "Retrieve META associated with projects"
      operationId: publicHead
      description: "Get META from the request, without returning the payload in question."
      parameters:
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: cEAAInvolvement
          type: string
          required: false
          description: "CEAA Involvement"
        - in: query
          name: cELead
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's name"
        - in: query
          name: cELeadEmail
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's email"
        - in: query
          name: cELeadPhone
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's phone number"
        - in: query
          name: centroid
          required: false
          description: "Query projects that have their centroid fall within the supplied coordinates."
          type: string
        - in: query
          name: currentPhase
          required: false
          description: "A Phases object"
          type: string
        - in: query
          name: currentPhaseCode
          required: false
          description: "A code associated with the current project's phase"
          type: string
        - in: query
          name: currentPhaseName
          required: false
          description: "The current phase's name"
          type: string
        - in: query
          name: description
          required: false
          description: "A description of the project"
          type: string
        - in: query
          name: eacDecision
          required: false
          description: "The decision determined by the EAO"
          type: string
        - in: query
          name: location
          required: false
          description: "The location of the proposed project"
          type: string
        - in: query
          name: name
          required: false
          description: "The name of the proposed project"
          type: string
        - in: query
          name: projectLead
          required: false
          description: "The name of the lead of the project"
          type: string
        - in: query
          name: projectLeadEmail
          required: false
          description: "The email of the lead of the project"
          type: string
        - in: query
          name: projectLeadPhone
          required: false
          description: "The phone number of the lead of the project"
          type: string
        - in: query
          name: proponent
          required: false
          description: "A reference to an organization object"
          type: string
        - in: query
          name: region
          required: false
          description: "Region of the project"
          type: string
        - in: query
          name: responsibleEPD
          required: false
          description: "Name of the EPD"
          type: string
        - in: query
          name: responsibleEPDEmail
          required: false
          description: "Email of the EPD"
          type: string
        - in: query
          name: responsibleEPDPhone
          required: false
          description: "Phone of the EPD"
          type: string
        - in: query
          name: type
          required: false
          description: "Type of the project"
          type: string
        - in: query
          name: read
          required: false
          description: "The read permissions of the project"
          type: string
        - in: query
          name: cpStart
          type: string
          format: date-time
          required: false
          description: "Comment Period Start Date that Projects must compare to"
        - in: query
          name: cpEnd
          type: string
          format: date-time
          required: false
          description: "Comment Period End Date that Projects must compare to"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get a list of public projects"
      operationId: publicGet
      description: "Retreiving public projects."
      parameters:
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: cEAAInvolvement
          type: string
          required: false
          description: "CEAA Involvement"
        - in: query
          name: cELead
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's name"
        - in: query
          name: cELeadEmail
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's email"
        - in: query
          name: cELeadPhone
          type: string
          required: false
          description: "The Compliance and Enforcement Lead's phone number"
        - in: query
          name: centroid
          required: false
          description: "Query projects that have their centroid fall within the supplied coordinates."
          type: string
        - in: query
          name: currentPhase
          required: false
          description: "A Phases object"
          type: string
        - in: query
          name: currentPhaseCode
          required: false
          description: "A code associated with the current project's phase"
          type: string
        - in: query
          name: currentPhaseName
          required: false
          description: "The current phase's name"
          type: string
        - in: query
          name: description
          required: false
          description: "A description of the project"
          type: string
        - in: query
          name: eacDecision
          required: false
          description: "The decision determined by the EAO"
          type: string
        - in: query
          name: location
          required: false
          description: "The location of the proposed project"
          type: string
        - in: query
          name: name
          required: false
          description: "The name of the proposed project"
          type: string
        - in: query
          name: projectLead
          required: false
          description: "The name of the lead of the project"
          type: string
        - in: query
          name: projectLeadEmail
          required: false
          description: "The email of the lead of the project"
          type: string
        - in: query
          name: projectLeadPhone
          required: false
          description: "The phone number of the lead of the project"
          type: string
        - in: query
          name: proponent
          required: false
          description: "A reference to an organization object"
          type: string
        - in: query
          name: region
          required: false
          description: "Region of the project"
          type: string
        - in: query
          name: responsibleEPD
          required: false
          description: "Name of the EPD"
          type: string
        - in: query
          name: responsibleEPDEmail
          required: false
          description: "Email of the EPD"
          type: string
        - in: query
          name: responsibleEPDPhone
          required: false
          description: "Phone of the EPD"
          type: string
        - in: query
          name: type
          required: false
          description: "Type of the project"
          type: string
        - in: query
          name: read
          required: false
          description: "The read permissions of the project"
          type: string
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: cpStart
          type: string
          format: date-time
          required: false
          description: "Start date for comment periods."
        - in: query
          name: cpEnd
          type: string
          format: date-time
          required: false
          description: "End date for comment periods."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/project/{projId}:
    x-swagger-router-controller: project
    options:
      tags:
        - project
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Project GET Route"
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - project
      summary: "Get a project"
      operationId: publicGet
      description: "Public access to retreiving projects."
      parameters:
        - name: projId
          in: path
          description: "ID of project to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Project fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *projectFields
        - in: query
          name: cpStart
          type: string
          format: date-time
          required: false
          description: "Comment Period Start Date that Projects must compare to"
        - in: query
          name: cpEnd
          type: string
          format: date-time
          required: false
          description: "Comment Period End Date that Projects must compare to"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/ProjObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### RecentActivity Routes
  /public/recentActivity:
    x-swagger-router-controller: recentActivity
    options:
      tags:
        - recentActivity
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on RecentActivity Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - recentActivity
      summary: "Get top recentActivity"
      operationId: publicGet
      description: "Get top recentActivity."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /recentActivity:
    x-swagger-router-controller: recentActivity
    options:
      tags:
        - recentActivity
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on RecentActivity Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - recentActivity
      summary: "Create a new recentActivity"
      operationId: protectedPost
      description: "Create a new recentActivity object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
        - name: recentActivity
          in: body
          required: true
          schema:
            $ref: "#/definitions/RecentActivityId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - recentActivity
      summary: "Delete a recentActivity(s)"
      operationId: protectedDelete
      description: "Delete specific activities."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
          - name: applicationID
            in: query
            type: string
            required: true
            description: "Delete activities corresponding to an applicationID."
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /recentActivity/{recentActivityId}:
    x-swagger-router-controller: recentActivity
    options:
      tags:
        - recentActivity
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on RecentActivity GET Route"
      parameters:
        - name: recentActivityId
          in: path
          description: "ID of recentActivity to get"
          required: true
          type: "string"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - recentActivity
      summary: "Update an recentActivity"
      operationId: protectedPut
      description: "Update an recentActivity object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
        - name: recentActivityId
          in: path
          description: "ID of recentActivity to update"
          required: true
          type: "string"
        - name: RecentActivityObject
          in: body
          required: true
          schema:
            $ref: "#/definitions/RecentActivityObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - recentActivity
      summary: "Delete an recentActivity"
      operationId: protectedDelete
      description: "Delete an recentActivity object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
        - name: recentActivityId
          in: path
          description: "ID of recentActivity to delete"
          required: true
          type: "string"
        - name: RecentActivityObject
          in: body
          required: true
          schema:
            $ref: "#/definitions/RecentActivityObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/RecentActivityObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

## Documents
  /document:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - document
      summary: "Create a new document"
      operationId: protectedPost
      description: "Create a new document object."
      summary: "Create a new document object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      consumes:
        - multipart/form-data
      parameters:
        - name: upfile
          in: formData
          description: "The file to upload."
          required: true
          type: file
        - name: project
          in: formData
          description: "The application to bind this document to."
          required: false
          type: string
        - name: type
          in: formData
          description: "The type to bind this document to."
          required: false
          type: string
        - name: documentSource
          in: formData
          description: "The documentSource of this document."
          required: false
          type: string
        - name: documentAuthor
          in: formData
          description: "The documentAuthor of the file."
          required: false
          type: string
        - name: milestone
          in: formData
          description: "The milestone of the file."
          required: false
          type: string
        - name: datePosted
          in: formData
          description: "The datePosted of the file."
          required: false
          type: string
        - name: dateUploaded
          in: formData
          description: "The dateUploaded of the file."
          required: false
          type: string
        - name: documentName
          in: formData
          description: "The documentName of the file."
          required: false
          type: string
        - name: description
          in: formData
          description: "The description of the file."
          required: false
          name: keywords
          in: formData
          description: "The keywords of the file."
          required: false
          type: string
          type: string
        - name: labels
          in: formData
          description: "The labels of the file."
          required: false
          type: string
        - name: displayName
          in: formData
          description: "The displayName of the file."
          required: false
          type: string
        - name: documentFileName
          in: formData
          description: "The documentFileName of the file."
          required: false
          type: string
        - name: internalOriginalName
          in: formData
          description: "The internalOriginalName of the file. This is only used for documents related to comments."
          required: false
          type: string
        - name: _comment
          in: formData
          description: "The comment pointer of the file."
          required: false
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Get a list of documents"
      operationId: protectedGet
      description: "Authenticated access to retreiving a document."
      security:
        - Bearer: []
      x-security-scopes:
        - sysadmin
        - staff
      parameters:
        - in: query
          name: docIds
          description: "Search using an array of document ids."
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: project
          description: "Documents relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: _comment
          description: "Documents relating to a particular Comment(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Document fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *documentFields
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "Documents that are deleted or not"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Get a document"
      operationId: protectedGet
      description: "Authenticated access to retreiving a document."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Document fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *documentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - document
      summary: "Update/Upload a document"
      operationId: protectedPut
      description: "Update a document object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      consumes:
        - multipart/form-data
      parameters:
        - name: docId
          in: path
          description: "ID of document to update"
          required: true
          type: string
        - name: upfile
          in: formData
          description: "The file to upload."
          required: true
          type: file
        - name: project
          in: formData
          description: "The application to bind this document to."
          required: false
          type: string
        - name: type
          in: formData
          description: "The type to bind this document to."
          required: false
          type: string
        - name: documentSource
          in: formData
          description: "The documentSource of this document."
          required: false
          type: string
        - name: documentAuthor
          in: formData
          description: "The documentAuthor of the file."
          required: false
          type: string
        - name: milestone
          in: formData
          description: "The milestone of the file."
          required: false
          type: string
        - name: datePosted
          in: formData
          description: "The datePosted of the file."
          required: false
          type: string
        - name: dateUploaded
          in: formData
          description: "The dateUploaded of the file."
          required: false
          type: string
        - name: documentName
          in: formData
          description: "The documentName of the file."
          required: false
          type: string
        - name: description
          in: formData
          description: "The description of the file."
          required: false
          type: string
        - name: keywords
          in: formData
          description: "The keywords of the file."
          required: false
          type: string
        - name: labels
          in: formData
          description: "The labels of the file."
          required: false
          type: string
        - name: displayName
          in: formData
          description: "The displayName of the file."
          required: false
          type: string
        - name: documentFileName
          in: formData
          description: "The documentFileName of the file."
          required: false
          type: string
        - name: eaoStatus
          in: formData
          description: "The eaoStatus of the file."
          required: false
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - document
      summary: "Delete a document"
      operationId: protectedDelete
      description: "Delete a document object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      consumes:
        - application/json
      parameters:
        - name: docId
          in: path
          description: "ID of document to delete"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}/publish:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - document
      summary: "Publish a document"
      operationId: protectedPublish
      description: "Adds the singular instance of the 'public' role to a document."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
        # TODO: Define publish roles.
      parameters:
        - name: docId
          in: path
          description: "ID of document to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}/unpublish:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - document
      summary: "UnPublish a document"
      operationId: protectedUnPublish
      description: "Removes the singular instance of the 'public' role on a document."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
        # TODO: Define unpublish roles.
      parameters:
        - name: docId
          in: path
          description: "ID of document to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}/download:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Download Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Download a document"
      operationId: protectedDownload
      description: "Authenticated access to retreiving a document binary."
      security:
        - Bearer: []
      parameters:
        - name: docId
          in: path
          description: "ID of document to download"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}/fetch:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Download Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Download a document"
      operationId: protectedDownload
      description: "Authenticated access to retreiving a document binary."
      security:
        - Bearer: []
      parameters:
        - name: docId
          in: path
          description: "ID of document to download"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /document/{docId}/fetch/{filename}:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Download Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
        - name: filename
          in: path
          description: "filename of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Download a document"
      operationId: protectedOpen
      description: "Authenticated access to retreiving a document binary."
      security:
        - Bearer: []
      parameters:
        - name: docId
          in: path
          description: "ID of document to open"
          required: true
          type: string
        - name: filename
          in: path
          description: "filename of document to open"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/document:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - document
      summary: "Create a new document from public"
      operationId: unProtectedPost
      description: "Create a new document object from public."
      summary: "Create a new document object from public."
      consumes:
        - multipart/form-data
      parameters:
        - name: upfile
          in: formData
          description: "The file to upload."
          required: true
          type: file
        - name: project
          in: formData
          description: "The project to bind this document to."
          required: false
          type: string
        - name: _comment
          in: formData
          description: "The comment to bind this document to."
          required: false
          type: string
        - name: displayName
          in: formData
          description: "The displayName of the file."
          required: false
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Get a list of documents"
      operationId: publicGet
      description: "Retreiving public documents."
      parameters:
        - in: query
          name: docIds
          description: "Search using an array of document ids."
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: project
          description: "Documents relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Document fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *documentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/document/{docId}:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Get a document"
      operationId: publicGet
      description: "Public access to retreiving documents."
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Document fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *documentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/document/{docId}/download:
    x-swagger-router-controller: document
    options:
      tags:
        - document
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Document GET Download Route"
      parameters:
        - name: docId
          in: path
          description: "ID of document to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - document
      summary: "Download a document"
      operationId: publicDownload
      description: "Authenticated access to retreiving a document binary."
      parameters:
        - name: docId
          in: path
          description: "ID of document to download"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/DocObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
### Organizations
  /organization:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - organization
      summary: "Create an organization"
      operationId: protectedPost
      description: "Create a new organization object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: org
          in: body
          required: true
          schema:
            $ref: "#/definitions/OrgId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - organization
      summary: "Get a list of documents"
      operationId: protectedGet
      description: "Authenticated access to retreiving organizations."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - in: query
          name: project
          description: "Documents relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Organization fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *organizationFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /organization/{orgId}:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization GET Route"
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - organization
      summary: "Get an organization"
      operationId: protectedGet
      description: "Authenticated access to retreiving organizations."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Organization fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *organizationFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - organization
      summary: "Update an organization"
      operationId: protectedPut
      description: "Update an organization object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /organization/{orgId}/publish:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization Route"
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - organization
      summary: "Publish a organization"
      operationId: protectedPublish
      description: "Adds the singular instance of the 'public' role to a organization."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        # TODO: Define publish roles.
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /organization/{orgId}/unpublish:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization Route"
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - organization
      summary: "UnPublish a organization"
      operationId: protectedUnPublish
      description: "Removes the singular instance of the 'public' role to a organization."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        # TODO: Define publish roles.
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/organization:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - organization
      summary: "Get a list of documents"
      operationId: publicGet
      description: "Retreiving public organizations."
      parameters:
        - in: query
          name: fields
          description: "Organization fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *organizationFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/organization/{orgId}:
    x-swagger-router-controller: organization
    options:
      tags:
        - organization
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Organization GET Route"
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - organization
      summary: "Get a document"
      operationId: publicGet
      description: "Public access to retreiving organizations."
      parameters:
        - name: orgId
          in: path
          description: "ID of organization to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Organization fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *organizationFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/OrgObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### User
  /user:
    x-swagger-router-controller: user
    options:
      tags:
        - user
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on User Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - user
      summary: "Create a new user"
      operationId: protectedPost
      description: "Create a new user object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: user
          in: body
          required: true
          schema:
            $ref: "#/definitions/UserId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - user
      summary: "Get a list of users"
      operationId: protectedGet
      description: "Authenticated access to retreiving users."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - in: query
          name: fields
          description: "User fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *userFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /user/{userId}:
    x-swagger-router-controller: user
    options:
      tags:
        - user
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on User GET Route"
      parameters:
        - name: userId
          in: path
          description: "ID of user to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - user
      summary: "Get a user"
      operationId: protectedGet
      description: "Authenticated access to retreiving users."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: userId
          in: path
          description: "ID of user to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "User fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *userFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - user
      summary: "Update a user"
      operationId: protectedPut
      description: "Update a user object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: userId
          in: path
          description: "ID of user to update"
          required: true
          type: string
        - name: user
          in: body
          required: true
          schema:
            $ref: "#/definitions/UserObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/UserObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

## Comments
  /comment:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - comment
      summary: "Retrieve META associated with a comment ."
      operationId: protectedHead
      description: "Get META from the request, without returning the payload in question."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - in: query
          name: period
          description: "Comments relating to a particular Comment Period"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: sortBy
          description: "Comment fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *commentSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - comment
      summary: "Get a list of comments"
      operationId: protectedGet
      description: "Authenticated access to retrieving comments."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - in: query
          name: period
          description: "Comments relating to a particular Comment Period"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: count
          description: "Enables/Disables count. Query count=true to enable."
          required: false
          type: boolean
        - in: query
          name: sortBy
          description: "Comment fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *commentSortByFields
        - in: query
          name: pending
          description: "Filter where eaoStatus is pending"
          required: false
          type: boolean
        - in: query
          name: published
          description: "Filter where eaoStatus is published"
          required: false
          type: boolean
        - in: query
          name: deferred
          description: "Filter where eaoStatus is deferred"
          required: false
          type: boolean
        - in: query
          name: rejected
          description: "Filter where eaoStatus is rejected"
          required: false
          type: boolean
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - comment
      summary: "Create a new comment"
      operationId: protectedPost
      description: "Create a new comment object."
      summary: "Create a new comment object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: comment
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /comment/export/{periodId}:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment GET Route"
      parameters:
        - name: periodId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - comment
      summary: "Export comments for a period"
      operationId: protectedExport
      description: "Authenticated access to retrieving an export of comments for a particular period."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: periodId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /comment/{commentId}:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment GET Route"
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - comment
      summary: "Get a comment"
      operationId: protectedGet
      description: "Authenticated access to retrieving a comment."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
        - in: query
          name: populateNextComment
          description: "Flag to get next comment information."
          required: false
          type: boolean
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - comment
      summary: "Update a comment"
      operationId: protectedPut
      description: "Update a comment object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      consumes:
        - multipart/form-data
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to update"
          required: true
          type: string
        - name: comment
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /comment/{commentId}/status:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment GET Route"
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
        - name: status
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentStatus"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - comment
      summary: "Changes eaoStatus field of a comment"
      operationId: protectedStatus
      description: "Sets published, deferred, or rejected for the status of a comment. Also handles permissions tagging when dealing with pubished/unpublish."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to update"
          required: true
          type: string
        - name: status
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentStatus"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/comment:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - comment
      summary: "Create a new comment"
      operationId: unProtectedPost
      description: "Create a new comment object."
      summary: "Create a new comment object."
      parameters:
        - name: comment
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - comment
      summary: "Retrieve META associated with a comment ."
      operationId: publicHead
      description: "Get META from the request, without returning the payload in question."
      parameters:
        - in: query
          name: period
          description: "The ID of the period associated with the comments."
          type: array
          required: true
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - comment
      summary: "Get a list of comments"
      operationId: publicGet
      description: "Retrieving public comments."
      parameters:
        - in: query
          name: period
          description: "Comments relating to a particular Comment Period"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: count
          description: "Enables/Disables count. Query count=true to enable."
          type: boolean
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: sortBy
          description: "Comment fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *commentSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/comment/{commentId}:
    x-swagger-router-controller: comment
    options:
      tags:
        - comment
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on comment GET Route"
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - comment
      summary: "Get a comment"
      operationId: publicGet
      description: "Public access to retrieving a comment."
      parameters:
        - name: commentId
          in: path
          description: "ID of comment to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Comment fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

## CommentPeriods
  /commentperiod:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - commentperiod
      summary: "Create a new commentperiod"
      operationId: protectedPost
      description: "Create a new commentperiod object."
      summary: "Create a new commentperiod object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: period
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        - in: query
          name: projectId
          type: string
          required: true
          description: "Id of the project"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - commentperiod
      summary: "Get a list of comment periods"
      operationId: protectedGet
      description: "Authenticated access to retreiving a commentperiod."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - in: query
          name: project
          description: "CommentPeriods relating to a particular Project(s)"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: count
          description: "Enables/Disables count. Query count=true to enable."
          required: false
          type: boolean
        - in: query
          name: sortBy
          description: "Comment fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *commentPeriodSortByFields
        - in: query
          name: fields
          description: "commentperiod fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentPeriodFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /commentperiod/{commentPeriodId}/summary:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod GET Route"
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: "string"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - commentperiod
      summary: "Retrieve META associated with a comment period."
      operationId: protectedSummary
      description: "Get META from the request, without returning the payload in question."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: "string"
        - in: query
          name: project
          description: "CommentPeriods relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "CommentPeriods that are deleted or not"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /commentperiod/{commentPeriodId}:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod GET Route"
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    head:
      tags:
        - commentperiod
      summary: "Retrieve META associated with a comment period."
      operationId: protectedHead
      description: "Get META from the request, without returning the payload in question."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
        - in: query
          name: project
          description: "CommentPeriods relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: isDeleted
          type: boolean
          required: false
          description: "CommentPeriods that are deleted or not"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - commentperiod
      summary: "Get a commentperiod"
      operationId: protectedGet
      description: "Authenticated access to retreiving a commentperiod."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
        - in: query
          name: project
          description: "CommentPeriods relating to a particular Project(s)"
          type: array
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "commentperiod fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentPeriodFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - commentperiod
      summary: "Update/Upload a commentperiod"
      operationId: protectedPut
      description: "Update a commentperiod object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      consumes:
        - application/json
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to update"
          required: true
          type: string
        - name: cp
          in: body
          required: true
          schema:
            $ref: "#/definitions/CommentPeriodObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - commentperiod
      summary: "Delete a commentperiod"
      operationId: protectedDelete
      description: "Delete a commentperiod object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      consumes:
        - application/json
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to delete"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /commentperiod/{commentPeriodId}/publish:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod GET Route"
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - commentperiod
      summary: "Publish a commentperiod"
      operationId: protectedPublish
      description: "Adds the singular instance of the 'public' role to a commentperiod."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /commentperiod/{commentPeriodId}/unpublish:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod GET Route"
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - commentperiod
      summary: "UnPublish a commentperiod"
      operationId: protectedUnPublish
      description: "Removes the singular instance of the 'public' role on a commentperiod."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to update"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/commentperiod:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - commentperiod
      summary: "Get a list of comment period(s)"
      operationId: publicGet
      description: "Retreiving public comment period(s)."
      parameters:
        - in: query
          name: project
          description: "CommentPeriods relating to a particular Project(s)"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "commentperiod fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentPeriodFields
        - in: query
          name: sortBy
          description: "Comment fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *commentPeriodSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /public/commentperiod/{commentPeriodId}:
    x-swagger-router-controller: commentperiod
    options:
      tags:
        - commentperiod
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on commentperiod GET Route"
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - commentperiod
      summary: "Get a commentperiod"
      operationId: publicGet
      description: "Public access to retreiving comments."
      parameters:
        - name: commentPeriodId
          in: path
          description: "ID of commentperiod to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "commentperiod fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *commentFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/CommentPeriodObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /search:
    x-swagger-router-controller: search
    options:
      tags:
        - search
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on search Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/SearchObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - search
      summary: "Get a list of things related to these keywords"
      operationId: protectedGet
      description: "Retreiving items relating to the given keywords."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - in: query
          name: _id
          description: "Grab (via _id) specific document"
          type: string
          required: false
          items:
            type: string
        - in: query
          name: keywords
          description: "Full Text Search based on keywords"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: populate
          description: "Populate Project object ID"
          type: boolean
          required: false
        - in: query
          name: dataset
          description: "Dataset to search on"
          type: string
          required: false
        - in: query
          name: _schemaName
          description: "Schema to search on"
          type: string
          required: false
        - in: query
          name: project
          description: "Project to specifically query"
          type: string
          required: false
        - in: query
          name: pageNum
          description: "Page number to skip to."
          type: number
          required: false
        - in: query
          name: pageSize
          description: "# Records to limit"
          type: number
          required: false
        - in: query
          name: sortBy
          description: "Fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *searchSortByFields
        - in: query
          name: and
          collectionFormat: multi
          required: false
          description: "Query: multiple parameter instances are supported using AND."
          type: string
        - in: query
          name: or
          collectionFormat: multi
          required: false
          description: "Query: multiple parameter instances are supported using OR."
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/SearchObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

  /public/search:
    x-swagger-router-controller: search
    options:
      tags:
        - search
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on search Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/SearchObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - search
      summary: "Get a list of things related to these keywords"
      operationId: publicGet
      description: "Retreiving items relating to the given keywords."
      parameters:
        - in: query
          name: keywords
          description: "Full Text Search based on keywords"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: dataset
          description: "Dataset to search on"
          type: string
          required: false
        - in: query
          name: project
          description: "Project to specifically query"
          type: string
          required: false
        - in: query
          name: query
          description: "Project to specifically query"
          type: string
          required: false
        - in: query
          name: populate
          description: "Populate Project object ID"
          type: boolean
          required: false
        - in: query
          name: pageNum
          description: "Page number to skip to."
          type: number
          required: false
        - in: query
          name: pageSize
          description: "# Records to limit"
          type: number
          required: false
        - in: query
          name: sortBy
          description: "Fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *searchSortByFields
        - in: query
          name: and
          collectionFormat: multi
          required: false
          description: "Query: multiple parameter instances are supported using AND."
          type: string
        - in: query
          name: or
          collectionFormat: multi
          required: false
          description: "Query: multiple parameter instances are supported using OR."
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/SearchObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### Audit
  /audit:
    x-swagger-router-controller: audit
    options:
      tags:
        - audit
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on audit Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/AuditObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - audit
      summary: "Get a list of things related to these keywords"
      operationId: protectedGet
      description: "Retreiving items relating to the given keywords."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
        - sysadmin
      parameters:
        - in: query
          name: keywords
          description: "Full Text Audit based on keywords"
          type: string
          required: false
          collectionFormat: pipes
          items:
            type: string
        - in: query
          name: fields
          description: "Audit fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *auditFields
        - in: query
          name: action
          description: "Dataset to search on"
          type: string
          required: false
        - in: query
          name: timestamp
          description: "Timestamp filtering"
          type: string
          required: false
        - in: query
          name: pageNum
          description: "Page number to skip to."
          type: number
          required: false
        - in: query
          name: pageSize
          description: "# Records to limit"
          type: number
          required: false
        - in: query
          name: sortBy
          description: "Fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *auditSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/AuditObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### Topic Routes
  /topic:
    x-swagger-router-controller: topic
    options:
      tags:
        - topic
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Topic Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - topic
      summary: "Create a new topic"
      operationId: protectedPost
      description: "Create a new topic object."
      security:
        - Bearer: []
      x-security-scopes:
        - staff
        - sysadmin
      parameters:
        - name: topic
          in: body
          required: true
          schema:
            $ref: "#/definitions/TopicId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - topic
      summary: "Get a list of topics"
      operationId: protectedGet
      description: "Authenticated access to retrieving topics."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: fields
          description: "Topic fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *topicFields
        - in: query
          name: sortBy
          description: "Topic fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *topicSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /topic/{topicId}:
    x-swagger-router-controller: topic
    options:
      tags:
        - topic
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on topic GET Route"
      parameters:
        - name: topicId
          in: path
          description: "ID of topic to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - topic
      summary: "Get a topic"
      operationId: protectedGet
      description: "Authenticated access to retreiving topics."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: topicId
          in: path
          description: "ID of topic to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Topic fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *topicFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - topic
      summary: "Update/Upload a topic"
      operationId: protectedPut
      description: "Update a topic object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      consumes:
        - application/json
      parameters:
        - name: topicId
          in: path
          description: "ID of topic to update"
          required: true
          type: string
        - name: cp
          in: body
          required: true
          schema:
            $ref: "#/definitions/TopicObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - topic
      summary: "Delete an topic"
      operationId: protectedDelete
      description: "Delete an topic object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: topicId
          in: path
          description: "ID of topic to delete"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/TopicObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"

### Vc Routes
  /vc:
    x-swagger-router-controller: vc
    options:
      tags:
        - vc
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on Topic Route"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    post:
      tags:
        - vc
      summary: "Create a new vc"
      operationId: protectedPost
      description: "Create a new vc object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: vc
          in: body
          required: true
          schema:
            $ref: "#/definitions/VcId"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - vc
      summary: "Get a list of vcs"
      operationId: protectedGet
      description: "Authenticated access to retrieving vcs."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - in: query
          name: projectId
          type: string
          required: false
          description: "Id of the project"
        - in: query
          name: pageNum
          type: number
          required: false
          description: "Page number (100 results each)."
        - in: query
          name: pageSize
          type: number
          required: false
          description: "Number of results per page (if 'pageNum' is specified)."
        - in: query
          name: fields
          description: "Vc fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *vcFields
        - in: query
          name: sortBy
          description: "VC fields to sort by."
          required: false
          type: array
          items:
            type: string
            enum: *vcSortByFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
  /vc/{vcId}:
    x-swagger-router-controller: vc
    options:
      tags:
        - vc
      summary: "Pre-flight request"
      operationId: protectedOptions
      description: "Options on vc GET Route"
      parameters:
        - name: vcId
          in: path
          description: "ID of vc to get"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    get:
      tags:
        - vc
      summary: "Get a vc"
      operationId: protectedGet
      description: "Authenticated access to retreiving vcs."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: vcId
          in: path
          description: "ID of vc to get"
          required: true
          type: string
        - in: query
          name: fields
          description: "Vc fields to return."
          required: false
          type: array
          collectionFormat: pipes
          items:
            type: string
            enum: *vcFields
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    put:
      tags:
        - vc
      summary: "Update/Upload a vc"
      operationId: protectedPut
      description: "Update a vc object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      consumes:
        - application/json
      parameters:
        - name: vcId
          in: path
          description: "ID of vc to update"
          required: true
          type: string
        - name: cp
          in: body
          required: true
          schema:
            $ref: "#/definitions/VcObject"
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"
    delete:
      tags:
        - vc
      summary: "Delete an vc"
      operationId: protectedDelete
      description: "Delete an vc object."
      security:
        - Bearer: []
      x-security-scopes:
        - project-system-admin
      parameters:
        - name: vcId
          in: path
          description: "ID of vc to delete"
          required: true
          type: string
      responses:
        "200":
          description: "Success"
          schema:
            $ref: "#/definitions/VcObject"
        "403":
          description: "Access Denied"
          schema:
            $ref: "#/definitions/Error"